<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Sigma Python #2: Generators &#183; tobiwan.dev</title><meta name=title content="Sigma Python #2: Generators &#183; tobiwan.dev"><meta name=description content="My personal website and blog about backend engineering"><meta name=keywords content="python,"><link rel=canonical href=https://ttyobiwan.github.io/articles/sigmapython02/><link type=text/css rel=stylesheet href=/css/main.bundle.min.1543cfd617bf2821b25269be3a67d06424c5f70c6eba4d8d496d399e25ca63e237cc443af4976f3dcb68c872dfbab55b2eac7d248a61c4cbfa95183663c80eeb.css integrity="sha512-FUPP1he/KCGyUmm+OmfQZCTF9wxuuk2NSW05niXKY+I3zEQ69JdvPctoyHLfurVbLqx9JIphxMv6lRg2Y8gO6w=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.f99aa39bcfb5d16a28ec2236bd358df5e465058a67f58b42534a3b15882a6a3513791fd27248c6b5b5cef06337f714070d4784fb776f44d930309b64cce1a2e0.js integrity="sha512-+Zqjm8+10Woo7CI2vTWN9eRlBYpn9YtCU0o7FYgqajUTeR/SckjGtbXO8GM39xQHDUeE+3dvRNkwMJtkzOGi4A==" data-copy=Copy data-copied=Copied></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://ttyobiwan.github.io/articles/sigmapython02/"><meta property="og:site_name" content="tobiwan.dev"><meta property="og:title" content="Sigma Python #2: Generators"><meta property="og:description" content="Python generators are a crucial feature with multiple uses, from lazy iteration to continuous data streaming. They are heavily adopted in popular packages such as FastAPI, SQLAlchemy, pytest, and others, highlighting their power and the importance of understanding how they work.
This article provides answers to the following questions about generators:
What are they exactly? How do they work? What are generator expressions and subgenerators? What are some common use cases for generators? Each section covers both theoretical and practical aspects of Python generators. By the end, you will have a strong comprehension of generators and their importance. The first section begins by defining what a generator is and how it operates."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="articles"><meta property="article:published_time" content="2023-05-23T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-23T00:00:00+00:00"><meta property="article:tag" content="Python"><meta property="og:image" content="https://ttyobiwan.github.io/articles/sigmapython02/featured.png"><meta property="og:see_also" content="https://ttyobiwan.github.io/articles/sigmapython03/"><meta property="og:see_also" content="https://ttyobiwan.github.io/articles/sigmapython01/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ttyobiwan.github.io/articles/sigmapython02/featured.png"><meta name=twitter:title content="Sigma Python #2: Generators"><meta name=twitter:description content="Python generators are a crucial feature with multiple uses, from lazy iteration to continuous data streaming. They are heavily adopted in popular packages such as FastAPI, SQLAlchemy, pytest, and others, highlighting their power and the importance of understanding how they work.
This article provides answers to the following questions about generators:
What are they exactly? How do they work? What are generator expressions and subgenerators? What are some common use cases for generators? Each section covers both theoretical and practical aspects of Python generators. By the end, you will have a strong comprehension of generators and their importance. The first section begins by defining what a generator is and how it operates."><meta name=twitter:image content="https://ttyobiwan.github.io/articles/sigmapython02/featured.png"><meta property="og:image" content="https://ttyobiwan.github.io/articles/sigmapython02/featured.png"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Articles","name":"Sigma Python #2: Generators","headline":"Sigma Python #2: Generators","abstract":"\u003cp\u003ePython generators are a crucial feature with multiple uses, from lazy iteration to continuous data streaming. They are heavily adopted in popular packages such as FastAPI, SQLAlchemy, pytest, and others, highlighting their power and the importance of understanding how they work.\u003c\/p\u003e\n\u003cp\u003eThis article provides answers to the following questions about generators:\u003c\/p\u003e\n\u003cul\u003e\n\u003cli\u003eWhat are they exactly?\u003c\/li\u003e\n\u003cli\u003eHow do they work?\u003c\/li\u003e\n\u003cli\u003eWhat are generator expressions and subgenerators?\u003c\/li\u003e\n\u003cli\u003eWhat are some common use cases for generators?\u003c\/li\u003e\n\u003c\/ul\u003e\n\u003cp\u003eEach section covers both theoretical and practical aspects of Python generators. By the end, you will have a strong comprehension of generators and their importance. The first section begins by defining what a generator is and how it operates.\u003c\/p\u003e","inLanguage":"en","url":"https:\/\/ttyobiwan.github.io\/articles\/sigmapython02\/","author":{"@type":"Person","name":"Piotr Tobiasz"},"copyrightYear":"2023","dateCreated":"2023-05-23T00:00:00\u002b00:00","datePublished":"2023-05-23T00:00:00\u002b00:00","dateModified":"2023-05-23T00:00:00\u002b00:00","keywords":["python"],"mainEntityOfPage":"true","wordCount":"2522"}]</script><meta name=author content="Piotr Tobiasz"><link href=https://github.com/ttyobiwan rel=me><link href=https://linkedin.com/in/piotr-tobiasz-dev rel=me><link href=https://twitter.com/tobias_piotr rel=me><script src=/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 pl-[24px] pr-[24px] z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div><div class="relative max-w-[64rem] ml-auto mr-auto"><div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0"><div><a href=/ class=flex><span class=sr-only>tobiwan.dev</span>
<img src=/img/keanu.png width=25 height=25 class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt=tobiwan.dev></a></div><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium">tobiwan.dev</a></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"><a href=/articles/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=Articles>Articles</p></a><a href=/about/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=About>About</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400 me-1"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 md:hidden"><div id=menu-button class=block><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl"><li id=menu-close-button><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/articles/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=Articles>Articles</p></a></li><li class=mt-1><a href=/about/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=About>About</p></a></li></ul></div></div></div></div></div></div><script type=text/javascript src=/js/background-blur.min.00a57c73ea12f2cab2980c3c3d649e89f6d82f190f74bbe2b67f2f5e39ab7d032ece47086400ca05396758aace13299da49aca43ea643d2625e62c506267a169.js integrity="sha512-AKV8c+oS8sqymAw8PWSeifbYLxkPdLvitn8vXjmrfQMuzkcIZADKBTlnWKrOEymdpJrKQ+pkPSYl5ixQYmehaQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><div id=hero class="h-[150px] md:h-[200px]"></div><div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"><img id=background-image src=/articles/sigmapython02/featured_hu_b8eea69cc2205ae0.png alt="Background Image" class="absolute inset-0 w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal"></div><div class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal"></div></div><div id=background-blur class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div><script type=text/javascript src=/js/background-blur.min.00a57c73ea12f2cab2980c3c3d649e89f6d82f190f74bbe2b67f2f5e39ab7d032ece47086400ca05396758aace13299da49aca43ea643d2625e62c506267a169.js integrity="sha512-AKV8c+oS8sqymAw8PWSeifbYLxkPdLvitn8vXjmrfQMuzkcIZADKBTlnWKrOEymdpJrKQ+pkPSYl5ixQYmehaQ==" data-blur-id=background-blur data-image-id=background-image data-image-url=/articles/sigmapython02/featured.png></script><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>tobiwan.dev</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/articles/>Articles</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/articles/sigmapython02/>Sigma Python #2: Generators</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Sigma Python #2: Generators</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2023-05-23T00:00:00+00:00>23 May 2023</time><span class="px-2 text-primary-500">&#183;</span><span>2522 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">12 mins</span></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/tags/python/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Python</span></span></a></div></div><div class="flex author author-extra mt-4"><img class="!mt-0 !mb-0 h-24 w-24 rounded-full me-4" width=96 height=96 src=/img/profile_hu_bf308c3f4f6472a1.png><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><a href=https://ttyobiwan.github.io/authors/piotr/ class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Piotr Tobiasz</a><div class="text-sm text-neutral-700 dark:text-neutral-400">Engineering enjoyer, doing backend stuff with Go, Python and Elixir</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=mailto:piotr.tobiasz.it@gmail.com target=_blank aria-label=Email rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/ttyobiwan target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://linkedin.com/in/piotr-tobiasz-dev target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></span></a></div></div></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#anatomy-of-a-generator>Anatomy of a generator</a></li><li><a href=#sending-and-returning>Sending and returning</a></li><li><a href=#generator-expressions>Generator expressions</a></li><li><a href=#subgenerators>Subgenerators</a></li><li><a href=#use-cases>Use cases</a></li><li><a href=#summary>Summary</a></li><li><a href=#sources>Sources</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#anatomy-of-a-generator>Anatomy of a generator</a></li><li><a href=#sending-and-returning>Sending and returning</a></li><li><a href=#generator-expressions>Generator expressions</a></li><li><a href=#subgenerators>Subgenerators</a></li><li><a href=#use-cases>Use cases</a></li><li><a href=#summary>Summary</a></li><li><a href=#sources>Sources</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><details class="mt-2 mb-5 overflow-hidden rounded-lg ms-0 ps-5"><summary class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 -ms-5 ps-5 dark:bg-primary-800 dark:text-neutral-100">Sigma Python -
This article is part of a series.</summary><div class="py-1 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><a href=/articles/sigmapython01/>Part 1:
Sigma Python #1: Decorators</a></div><div class="py-1 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">Part 2:
This Article</div><div class="py-1 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><a href=/articles/sigmapython03/>Part 3:
Sigma Python #3: Descriptors</a></div></details><div class="article-content max-w-prose mb-20"><p>Python generators are a crucial feature with multiple uses, from lazy iteration to continuous data streaming. They are heavily adopted in popular packages such as FastAPI, SQLAlchemy, pytest, and others, highlighting their power and the importance of understanding how they work.</p><p>This article provides answers to the following questions about generators:</p><ul><li>What are they exactly?</li><li>How do they work?</li><li>What are generator expressions and subgenerators?</li><li>What are some common use cases for generators?</li></ul><p>Each section covers both theoretical and practical aspects of Python generators. By the end, you will have a strong comprehension of generators and their importance. The first section begins by defining what a generator is and how it operates.</p><h2 class="relative group">Anatomy of a generator<div id=anatomy-of-a-generator class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#anatomy-of-a-generator aria-label=Anchor>#</a></span></h2><p>At first glance, the <em>generator function</em> appears to be no different from a regular function. Consider the following example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Generator
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>calculate</span>(a: int, b: int) <span style=color:#f92672>-&gt;</span> Generator[int <span style=color:#f92672>|</span> float, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Starting calculations for </span><span style=color:#e6db74>{</span>a<span style=color:#e6db74>}</span><span style=color:#e6db74> and </span><span style=color:#e6db74>{</span>b<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Sum&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> a <span style=color:#f92672>+</span> b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Subtraction&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> a <span style=color:#f92672>-</span> b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Multiplication&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> a <span style=color:#f92672>*</span> b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Division&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> a <span style=color:#f92672>/</span> b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Done calculating&#34;</span>)
</span></span></code></pre></div><p>The defining characteristic of a generator function is the use of the <code>yield</code> keyword. When called, the generator function produces a generator, meaning that it can be seen as a <em>generator factory</em>.</p><p>To work with a generator, there are two methods. Consider the first example of how to use the <code>calculate</code> function:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>calculations <span style=color:#f92672>=</span> calculate(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> result <span style=color:#f92672>in</span> calculations:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Result:&#34;</span>, result)
</span></span></code></pre></div><p>To start, the <code>calculate</code> generator function is used to create a generator object. It doesn&rsquo;t do anything else: without the <code>for</code> loop, no <code>print</code> outputs would appear. The code then goes through the generator output by iterating over it. This causes the generator to stop at each yield and pass it as a result in the loop. Overall, running this code produces the following result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>Starting calculations for 10 and 5
</span></span><span style=display:flex><span>Sum
</span></span><span style=display:flex><span>Result: 15
</span></span><span style=display:flex><span>Subtraction
</span></span><span style=display:flex><span>Result: 5
</span></span><span style=display:flex><span>Multiplication
</span></span><span style=display:flex><span>Result: 50
</span></span><span style=display:flex><span>Division
</span></span><span style=display:flex><span>Result: 2.0
</span></span><span style=display:flex><span>Done calculating
</span></span></code></pre></div><p>If you want to work with a generator in a more direct way, you can use the <code>next</code> function. Here&rsquo;s an example of how to use the <code>calculate</code> generator in this manner:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>calculations <span style=color:#f92672>=</span> calculate(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>print(next(calculations))
</span></span><span style=display:flex><span>print(next(calculations))
</span></span><span style=display:flex><span>print(next(calculations))
</span></span><span style=display:flex><span>print(next(calculations))
</span></span><span style=display:flex><span>print(next(calculations))
</span></span></code></pre></div><p>Although the outcome is identical, the code now throws a <code>StopIteration</code> exception. This occurs because the generator gets exhausted after the final <code>yield</code> statement. As a result, it cannot be used again, and a new generator object is required to start over. When using a <code>for</code> loop to iterate, it automatically stops when the generator is exhausted, which is why there was no exception in the first example.</p><p>When using a generator, it&rsquo;s crucial to pay attention to when it stops and continues the process. If you only have one <code>next</code> call, you&rsquo;ll only see the <code>print</code> statement for the sum, indicating that the generator stopped at the first <code>yield</code>. This means that any remaining computations and <code>print</code> statements will not be executed. This feature can be very useful for adding some &ldquo;laziness&rdquo; to your code.</p><p>It is important to mention that the final print statement with the &ldquo;Done calculating&rdquo; message is called after the fifth <code>next</code> call. This is the same call that exhausts the generator, but it&rsquo;s also the only way to reach the code after the last &ldquo;yield&rdquo; statement. To sum up, when using a <code>for</code> loop or the <code>next</code> function, the generator jumps over subsequent <code>yield</code> statements and the code between them until there are no more yields. At that point, the final code is executed, and the generator is exhausted.</p><p>Although generators are not an easy topic, this introduction should provide you with a good understanding of how they operate. With this knowledge covered, you can now move on to further interactions with the generator object.</p><h2 class="relative group">Sending and returning<div id=sending-and-returning class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#sending-and-returning aria-label=Anchor>#</a></span></h2><p>Generators use the <code>yield</code> keyword to temporarily pause execution and output a value, which is their core feature. However, generators also have the functionalities of <em>sending</em> and <em>returning</em>.</p><p>In the first example, the type annotation <code>Generator[int | float, None, None]</code> indicates that the generator yields values of type integer or float, and the remaining two are types for sending or returning.</p><p>The <code>send</code> method of a generator object allows you to input a value into a generator during execution, which is then processed by the <code>yield</code> statement where the generator paused. Here is an example to illustrate this functionality:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> random
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Generator
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>send_message</span>(message: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Sending: </span><span style=color:#e6db74>{</span>message<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> str(random<span style=color:#f92672>.</span>randint(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1000</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>chat</span>(message: str) <span style=color:#f92672>-&gt;</span> Generator[str, str, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Starting a new chat&#34;</span>)
</span></span><span style=display:flex><span>    history <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        history<span style=color:#f92672>.</span>append(message)
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> send_message(message)
</span></span><span style=display:flex><span>        history<span style=color:#f92672>.</span>append(response)
</span></span><span style=display:flex><span>        message <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> response
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>quick_chat <span style=color:#f92672>=</span> chat(<span style=color:#e6db74>&#34;hello&#34;</span>)
</span></span><span style=display:flex><span>print(next(quick_chat))
</span></span><span style=display:flex><span>print(quick_chat<span style=color:#f92672>.</span>send(<span style=color:#e6db74>&#34;how are you doing?&#34;</span>))
</span></span><span style=display:flex><span>print(quick_chat<span style=color:#f92672>.</span>send(<span style=color:#e6db74>&#34;oh, that is nice!&#34;</span>))
</span></span></code></pre></div><p>The <code>chat</code> generator function acts like a conversation. It starts with an initial message and uses the <code>send_message</code> function to send and receive messages while keeping a record of the conversation history. The generator object won&rsquo;t get exhausted because of the <code>while True</code> loop. When executed, the code produces the following output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>Starting a new chat
</span></span><span style=display:flex><span>Sending: hello
</span></span><span style=display:flex><span>786
</span></span><span style=display:flex><span>Sending: how are you doing?
</span></span><span style=display:flex><span>392
</span></span><span style=display:flex><span>Sending: oh, that is nice!
</span></span><span style=display:flex><span>416
</span></span></code></pre></div><p>To send values into a generator, you need to assign the result of <code>yield</code> to a variable (e.g. <code>message = yield response</code>). However, before sending anything, you must first ensure that the generator object proceeds to the first <code>yield</code> statement. Otherwise, there will be nothing to handle the sending. In the example above, this is achieved by calling the <code>next</code> function, which also sends the &ldquo;hello&rdquo; message. Once the generator is stopped at the <code>yield</code> statement, you can use the <code>send</code> method. In the example, the <code>send</code> method is used twice to reassign the <code>message</code> variable, which is then sent using the <code>send_message</code> function.</p><p>Adding a <code>send</code> feature can enhance the interaction of a generator. By including a <code>return</code> statement within the generator, you can further expand its functionalities. Check out the tweaked <code>chat</code> generator for an example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>...</span> <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>chat</span>(message: str) <span style=color:#f92672>-&gt;</span> Generator[str, str, list[str]]:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Starting a new chat&#34;</span>)
</span></span><span style=display:flex><span>    history <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        history<span style=color:#f92672>.</span>append(message)
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> send_message(message)
</span></span><span style=display:flex><span>        history<span style=color:#f92672>.</span>append(response)
</span></span><span style=display:flex><span>        message <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> response
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> message:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> history
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>quick_chat <span style=color:#f92672>=</span> chat(<span style=color:#e6db74>&#34;hello&#34;</span>)
</span></span><span style=display:flex><span>print(next(quick_chat))
</span></span><span style=display:flex><span>print(quick_chat<span style=color:#f92672>.</span>send(<span style=color:#e6db74>&#34;how are you doing?&#34;</span>))
</span></span><span style=display:flex><span>print(quick_chat<span style=color:#f92672>.</span>send(<span style=color:#e6db74>&#34;oh, that is nice!&#34;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>    quick_chat<span style=color:#f92672>.</span>send(<span style=color:#e6db74>&#34;&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>except</span> <span style=color:#a6e22e>StopIteration</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>    print(e<span style=color:#f92672>.</span>value)
</span></span></code></pre></div><p>A new type annotation, <code>list[str]</code> has been added as the return type of the generator. If an empty value is passed via the <code>send</code> method, the generator will now return conversation history. The updated output is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>Starting a new chat
</span></span><span style=display:flex><span>Sending: hello
</span></span><span style=display:flex><span>459
</span></span><span style=display:flex><span>Sending: how are you doing?
</span></span><span style=display:flex><span>817
</span></span><span style=display:flex><span>Sending: oh, that is nice!
</span></span><span style=display:flex><span>84
</span></span><span style=display:flex><span>[&#39;hello&#39;, &#39;459&#39;, &#39;how are you doing?&#39;, &#39;817&#39;, &#39;oh, that is nice!&#39;, &#39;84&#39;]
</span></span></code></pre></div><p>The generator got exhausted due to the return statement. However, you can retrieve the returned value from the exception by using the try/except syntax. This method may seem unusual, as it is not the typical way of using a generator. Generally, some iteration is used to go over the generator, which handles the exhaustion behind the scene. The above examples make use of the next and send methods just to showcase the underlying processes.</p><p>This knowledge should help you understand how to interact with generators better. Additionally, there are two more techniques to build and exhaust a generator to follow.</p><h2 class="relative group">Generator expressions<div id=generator-expressions class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#generator-expressions aria-label=Anchor>#</a></span></h2><p><em>Generator expressions</em> provide a concise way of creating generators. They enable you to define generators in just one line of code, which is a sophisticated method for generating sequences of data. The syntax for creating a generator expression is like that of a list comprehension. For example, suppose you have a decorator that takes a list of numbers (which might be a large list), squares them, and yields only even numbers. In that case, you can use a generator function as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Generator
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>large_numbers_dataset <span style=color:#f92672>=</span> list(range(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>11</span>))
</span></span><span style=display:flex><span>print(large_numbers_dataset)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>square_even</span>(numbers: list[int]) <span style=color:#f92672>-&gt;</span> Generator[int, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> n <span style=color:#f92672>in</span> numbers:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> n <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> n<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>squared <span style=color:#f92672>=</span> square_even(large_numbers_dataset)
</span></span><span style=display:flex><span>print(squared)
</span></span><span style=display:flex><span>print(list(squared))
</span></span></code></pre></div><p>And the output is the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</span></span><span style=display:flex><span>&lt;generator object square_even at 0x7fc5789f4110&gt;
</span></span><span style=display:flex><span>[4, 16, 36, 64, 100]
</span></span></code></pre></div><p>The results are as expected. In this scenario, using a generator allows for the computation of a portion of the dataset. For instance, you can iterate over the <code>squared</code> generator and stop at the second outcome. In such case, you would receive only two results without processing the entire dataset. Hence, while a one-line list comprehension is feasible, it is not as efficient. Nonetheless, a one-line generator expression can be utilized. To do so, replace the <code>square_even</code> function with the implementation below:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>large_numbers_dataset <span style=color:#f92672>=</span> list(range(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>11</span>))
</span></span><span style=display:flex><span>squared_exp <span style=color:#f92672>=</span> (n<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span> <span style=color:#66d9ef>for</span> n <span style=color:#f92672>in</span> large_numbers_dataset <span style=color:#66d9ef>if</span> n <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>print(squared_exp)
</span></span><span style=display:flex><span>print(list(squared_exp))
</span></span></code></pre></div><p>The outcome is now nearly the same:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>&lt;generator object &lt;genexpr&gt; at 0x7fc5789f5cb0&gt;
</span></span><span style=display:flex><span>[4, 16, 36, 64, 100]
</span></span></code></pre></div><p>The generator expression ultimately creates a generator object, similar to the generator function. However, it is more concise and expressive. It can be used like a list comprehension, but still maintains the laziness functionality of a generator. Moreover, generator expressions are suitable to be used as a function argument. For instance, consider the following example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>large_numbers_dataset <span style=color:#f92672>=</span> list(range(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>11</span>))
</span></span><span style=display:flex><span>print(sum(n<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span> <span style=color:#66d9ef>for</span> n <span style=color:#f92672>in</span> large_numbers_dataset <span style=color:#66d9ef>if</span> n <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>))
</span></span></code></pre></div><p>The result is 220, which means that the generator yielded all the numbers as previously and they were all passed to the <code>sum</code> function. This is a clean and memory-efficient way of processing data without creating intermediate lists.</p><h2 class="relative group">Subgenerators<div id=subgenerators class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#subgenerators aria-label=Anchor>#</a></span></h2><p>In Python, you can create hierarchical generators by using <em>subgenerators</em>. These are generators that are nested within other generators, making it possible to structure and organize your code in a modular and reusable manner. Essentially, subgenerators serve as an alternative method for &ldquo;unpacking&rdquo; a generator within another generator. Take a look at the code example below for reference:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>numbers_board <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>],
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>    [<span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>],
</span></span><span style=display:flex><span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> row <span style=color:#f92672>in</span> numbers_board:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> cell <span style=color:#f92672>in</span> row:
</span></span><span style=display:flex><span>        print(cell)
</span></span></code></pre></div><p>Naturally, the code displays numbers 1 to 9. Nonetheless, using a double <code>for</code> loop in your code is not the most optimal and elegant solution. A more efficient approach would be to use a generator:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>cells</span>(board: list[list[int]]) <span style=color:#f92672>-&gt;</span> Generator[int, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> row <span style=color:#f92672>in</span> board:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> cell <span style=color:#f92672>in</span> row:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> cell
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> cell <span style=color:#f92672>in</span> cells(numbers_board):
</span></span><span style=display:flex><span>    print(cell)
</span></span></code></pre></div><p>Although the outcome remains unchanged, your code outside of the function is now more concise and takes benefits from using a generator. Additionally, there is another enhancement you can make in this scenario: separate the two loops and delegate <code>for cell in row</code> to a distinct generator. This can be accomplished by implementing a subgenerator and the <code>yield from</code> syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>columns</span>(row: list[int]) <span style=color:#f92672>-&gt;</span> Generator[int, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> column <span style=color:#f92672>in</span> row:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> column
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>cells</span>(board: list[list[int]]) <span style=color:#f92672>-&gt;</span> Generator[int, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> row <span style=color:#f92672>in</span> board:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield from</span> columns(row)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> cell <span style=color:#f92672>in</span> cells(numbers_board):
</span></span><span style=display:flex><span>    print(cell)
</span></span></code></pre></div><p>The program will print the numbers 1 through 9 again, but this time, the <code>cells</code> generator will use the <code>columns</code> subgenerator to generate the cells. The <code>yield from</code> statement allows the outer generator to transfer control to the inner generator and obtain values from it without having to iterate over each one. Although this may seem like an unnecessary addition in this simple example, it is included to demonstrate the use of a subgenerator.</p><p>With the information covered in the previous two chapters, you should now have a good understanding of the generators topic. The next section will explain why it is crucial to have a correct comprehension of how generators work.</p><h2 class="relative group">Use cases<div id=use-cases class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#use-cases aria-label=Anchor>#</a></span></h2><p>Python&rsquo;s generators are definitely a unique aspect of the language that is, however, not used that frequently in the code. This is likely due to the fact that the default iteration and list comprehension syntax are sufficient in most cases. However, incorporating lazy iteration and other generator-related enhancements can sometimes be a game-changer in the codebase.</p><p>Despite their limited use in code, generators are essential when working with external libraries such as the FastAPI web framework or pytest testing library. To go through some examples, first, take a look at a class that mimics a database and is aware of its <code>connected</code> status:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Database</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_entries: list[dict] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_connected <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_connected <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_connected <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(self, entry: dict) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_connected <span style=color:#f92672>is</span> <span style=color:#66d9ef>False</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>raise</span> exceptions<span style=color:#f92672>.</span>DatabaseError(<span style=color:#e6db74>&#34;Database is disconnected&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_entries<span style=color:#f92672>.</span>append(entry)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@property</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>entries</span>(self) <span style=color:#f92672>-&gt;</span> list[dict]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>_connected <span style=color:#f92672>is</span> <span style=color:#66d9ef>False</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>raise</span> exceptions<span style=color:#f92672>.</span>DatabaseError(<span style=color:#e6db74>&#34;Database is disconnected&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_entries
</span></span></code></pre></div><p>If you want to implement this class in a FastAPI example, it would appear as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> fastapi <span style=color:#f92672>import</span> FastAPI, APIRouter
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> sigma_py.generators.utils <span style=color:#f92672>import</span> Database
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app <span style=color:#f92672>=</span> FastAPI()
</span></span><span style=display:flex><span>router <span style=color:#f92672>=</span> APIRouter()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@router.get</span>(<span style=color:#e6db74>&#34;/entries&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_entries</span>() <span style=color:#f92672>-&gt;</span> list[dict]:
</span></span><span style=display:flex><span>    db <span style=color:#f92672>=</span> Database()
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>connect()
</span></span><span style=display:flex><span>    entries <span style=color:#f92672>=</span> db<span style=color:#f92672>.</span>entries
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>disconnect()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> entries
</span></span></code></pre></div><p>The issue in this case, is that you need to manually:</p><ul><li>initialize the database instance</li><li>connect the database</li><li>disconnect the database</li></ul><p>FastAPI solves this problem by introducing a dependency system, that uses generators. Take a look at the enhanced version of the <code>get_entries</code> endpoint:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Generator
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> fastapi <span style=color:#f92672>import</span> FastAPI, APIRouter, Depends
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> sigma_py.generators.utils <span style=color:#f92672>import</span> Database
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app <span style=color:#f92672>=</span> FastAPI()
</span></span><span style=display:flex><span>router <span style=color:#f92672>=</span> APIRouter()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_db</span>() <span style=color:#f92672>-&gt;</span> Generator[Database, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    db <span style=color:#f92672>=</span> Database()
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>connect()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> db
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>disconnect()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@router.get</span>(<span style=color:#e6db74>&#34;/entries&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_entries</span>(db: Database <span style=color:#f92672>=</span> Depends(get_db)) <span style=color:#f92672>-&gt;</span> list[dict]:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> db<span style=color:#f92672>.</span>entries
</span></span></code></pre></div><p>The <code>get_db</code> dependency is responsible for all database-related tasks, allowing the endpoint to focus on its intended logic. This dependency is a generator function that creates and connects to a database object, and disconnects it once the generator is exhausted. The framework handles the generator&rsquo;s mechanics behind the scenes.</p><p>When using pytest to write tests, a similar process occurs. The library also uses generators to create fixtures that resemble FastAPI dependencies:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> pytest
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Generator
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> sigma_py.generators.utils <span style=color:#f92672>import</span> Database
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@pytest.fixture</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>db</span>() <span style=color:#f92672>-&gt;</span> Generator[Database, <span style=color:#66d9ef>None</span>, <span style=color:#66d9ef>None</span>]:
</span></span><span style=display:flex><span>    db <span style=color:#f92672>=</span> Database()
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>connect()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield</span> db
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>_entries <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>disconnect()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>test_add_entry</span>(db: Database) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>assert</span> db<span style=color:#f92672>.</span>entries <span style=color:#f92672>==</span> []
</span></span><span style=display:flex><span>    db<span style=color:#f92672>.</span>add({<span style=color:#e6db74>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Jon&#34;</span>})
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>assert</span> db<span style=color:#f92672>.</span>entries <span style=color:#f92672>==</span> [{<span style=color:#e6db74>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;Jon&#34;</span>}]
</span></span></code></pre></div><p>As you can see, pytest also leverages a decorator to create and initialize dependencies and add a tear-down code which is executed before the generator gets exhausted.</p><h2 class="relative group">Summary<div id=summary class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#summary aria-label=Anchor>#</a></span></h2><p>Generators are a powerful feature in Python that enable efficient and flexible handling of data generation, iteration, and processing. They offer lazy evaluation, saving memory and enabling infinite sequences. Generators provide advantages such as improved memory utilization, enhanced code readability, and the ability to handle large or infinite data streams. Popular libraries like FastAPI, pytest, Django, TensorFlow, or asyncio utilize generators for dependency management, fixtures, pagination, batch processing, and asynchronous iteration respectively. By understanding and leveraging generators, you can optimize code, improve performance, and design modular and reusable solutions. Embrace generators to write efficient, readable, and scalable code in various domains.</p><h2 class="relative group">Sources<div id=sources class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#sources aria-label=Anchor>#</a></span></h2><p>Code examples used in the article can be found here: <a href=https://github.com/ttyobiwan/sigma_python target=_blank><strong>link</strong></a>.</p><p>The biggest inspiration for these articles and source of my knowledge is the <a href=https://www.oreilly.com/library/view/fluent-python-2nd/9781492056348/ target=_blank><strong>Fluent Python</strong></a> book by Luciano Ramalho. I highly encourage you to check it out; you will not be disappointed.</p><p>Documentation page of each library:</p><ul><li><a href=https://fastapi.tiangolo.com/lo/ target=_blank>FastAPI</a></li><li><a href=https://docs.pytest.org/en/7.3.x/ target=_blank>pytest</a></li></ul></div><details class="mt-2 mb-5 overflow-hidden rounded-lg ms-0 ps-5"><summary class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 -ms-5 ps-5 dark:bg-primary-800 dark:text-neutral-100">Sigma Python -
This article is part of a series.</summary><div class="py-1 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><a href=/articles/sigmapython01/>Part 1:
Sigma Python #1: Decorators</a></div><div class="py-1 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600">Part 2:
This Article</div><div class="py-1 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><a href=/articles/sigmapython03/>Part 3:
Sigma Python #3: Descriptors</a></div></details></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_articles/sigmapython02/index.md data-oid-likes=likes_articles/sigmapython02/index.md></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/articles/debug-vscode/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Debugging Python Apps in VSCode</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2023-05-08T00:00:00+00:00>8 May 2023</time>
</span></span></a></span><span><a class="flex text-right group ml-3" href=/articles/fastapi-sqlalchemy/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Patterns and Practices for using SQLAlchemy 2.0 with FastAPI</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2023-06-15T00:00:00+00:00>15 June 2023</time>
</span></span><span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0 z-10"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2025
Piotr Tobiasz</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://ttyobiwan.github.io/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>