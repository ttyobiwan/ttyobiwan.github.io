<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Using Textual to Build a ChatGPT TUI App &#183; tobiwan.dev</title><meta name=title content="Using Textual to Build a ChatGPT TUI App &#183; tobiwan.dev"><meta name=description content="My personal website and blog about backend engineering"><meta name=keywords content="python,"><link rel=canonical href=https://ttyobiwan.github.io/articles/textual-chat/><link type=text/css rel=stylesheet href=/css/main.bundle.min.1543cfd617bf2821b25269be3a67d06424c5f70c6eba4d8d496d399e25ca63e237cc443af4976f3dcb68c872dfbab55b2eac7d248a61c4cbfa95183663c80eeb.css integrity="sha512-FUPP1he/KCGyUmm+OmfQZCTF9wxuuk2NSW05niXKY+I3zEQ69JdvPctoyHLfurVbLqx9JIphxMv6lRg2Y8gO6w=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.f99aa39bcfb5d16a28ec2236bd358df5e465058a67f58b42534a3b15882a6a3513791fd27248c6b5b5cef06337f714070d4784fb776f44d930309b64cce1a2e0.js integrity="sha512-+Zqjm8+10Woo7CI2vTWN9eRlBYpn9YtCU0o7FYgqajUTeR/SckjGtbXO8GM39xQHDUeE+3dvRNkwMJtkzOGi4A==" data-copy=Copy data-copied=Copied></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://ttyobiwan.github.io/articles/textual-chat/"><meta property="og:site_name" content="tobiwan.dev"><meta property="og:title" content="Using Textual to Build a ChatGPT TUI App"><meta property="og:description" content="TUI stands for “text user interface”. It refers to a type of user interface that relies primarily on text and symbols to interact with users, rather than visual elements like icons and images. TUI applications typically run in a command-line interface (CLI) environment, which is a type of interface where users interact with a computer by typing commands into a text-based interface. TUI applications have been around for a long time and despite their seemingly archaic design, they have certain advantages over graphical user interface (GUI) applications. These include faster response times, lower system requirements, and easier automation."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="articles"><meta property="article:published_time" content="2023-03-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-15T00:00:00+00:00"><meta property="article:tag" content="Python"><meta property="og:image" content="https://ttyobiwan.github.io/articles/textual-chat/featured.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ttyobiwan.github.io/articles/textual-chat/featured.png"><meta name=twitter:title content="Using Textual to Build a ChatGPT TUI App"><meta name=twitter:description content="TUI stands for “text user interface”. It refers to a type of user interface that relies primarily on text and symbols to interact with users, rather than visual elements like icons and images. TUI applications typically run in a command-line interface (CLI) environment, which is a type of interface where users interact with a computer by typing commands into a text-based interface. TUI applications have been around for a long time and despite their seemingly archaic design, they have certain advantages over graphical user interface (GUI) applications. These include faster response times, lower system requirements, and easier automation."><meta name=twitter:image content="https://ttyobiwan.github.io/articles/textual-chat/featured.png"><meta property="og:image" content="https://ttyobiwan.github.io/articles/textual-chat/featured.png"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Articles","name":"Using Textual to Build a ChatGPT TUI App","headline":"Using Textual to Build a ChatGPT TUI App","abstract":"\u003cp\u003eTUI stands for \u0026ldquo;text user interface\u0026rdquo;. It refers to a type of user interface that relies primarily on text and symbols to interact with users, rather than visual elements like icons and images. TUI applications typically run in a command-line interface (CLI) environment, which is a type of interface where users interact with a computer by typing commands into a text-based interface. TUI applications have been around for a long time and despite their seemingly archaic design, they have certain advantages over graphical user interface (GUI) applications. These include faster response times, lower system requirements, and easier automation.\u003c\/p\u003e","inLanguage":"en","url":"https:\/\/ttyobiwan.github.io\/articles\/textual-chat\/","author":{"@type":"Person","name":"Piotr Tobiasz"},"copyrightYear":"2023","dateCreated":"2023-03-15T00:00:00\u002b00:00","datePublished":"2023-03-15T00:00:00\u002b00:00","dateModified":"2023-03-15T00:00:00\u002b00:00","keywords":["python"],"mainEntityOfPage":"true","wordCount":"3593"}]</script><meta name=author content="Piotr Tobiasz"><link href=https://github.com/ttyobiwan rel=me><link href=https://linkedin.com/in/piotr-tobiasz-dev rel=me><script src=/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script><link rel=stylesheet href=/css/repo-cards.min.4ae5b5ba58e47eec6bb063f962002d0f9a2f9a1ab4f2d399a027aa800787524b1451e0a48893370c0b98a9d1f01078d0903ad5b4940c0f0a358ca43f9055e6b0.css integrity="sha512-SuW1uljkfuxrsGP5YgAtD5ovmhq08tOZoCeqgAeHUksUUeCkiJM3DAuYqdHwEHjQkDrVtJQMDwo1jKQ/kFXmsA=="></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 pl-[24px] pr-[24px] z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div><div class="relative max-w-[64rem] ml-auto mr-auto"><div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0"><div><a href=/ class=flex><span class=sr-only>tobiwan.dev</span>
<img src=/img/keanu.png width=25 height=25 class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt=tobiwan.dev></a></div><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium">tobiwan.dev</a></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"><a href=/articles/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=Articles>Articles</p></a><a href=/about/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=About>About</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="Search (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400 me-1"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 md:hidden"><div id=menu-button class=block><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl"><li id=menu-close-button><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/articles/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=Articles>Articles</p></a></li><li class=mt-1><a href=/about/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=About>About</p></a></li></ul></div></div></div></div></div></div><script type=text/javascript src=/js/background-blur.min.00a57c73ea12f2cab2980c3c3d649e89f6d82f190f74bbe2b67f2f5e39ab7d032ece47086400ca05396758aace13299da49aca43ea643d2625e62c506267a169.js integrity="sha512-AKV8c+oS8sqymAw8PWSeifbYLxkPdLvitn8vXjmrfQMuzkcIZADKBTlnWKrOEymdpJrKQ+pkPSYl5ixQYmehaQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><div id=hero class="h-[150px] md:h-[200px]"></div><div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"><img id=background-image src=/articles/textual-chat/featured_hu_1ae5d515949d01.png alt="Background Image" class="absolute inset-0 w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal"></div><div class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal"></div></div><div id=background-blur class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div><script type=text/javascript src=/js/background-blur.min.00a57c73ea12f2cab2980c3c3d649e89f6d82f190f74bbe2b67f2f5e39ab7d032ece47086400ca05396758aace13299da49aca43ea643d2625e62c506267a169.js integrity="sha512-AKV8c+oS8sqymAw8PWSeifbYLxkPdLvitn8vXjmrfQMuzkcIZADKBTlnWKrOEymdpJrKQ+pkPSYl5ixQYmehaQ==" data-blur-id=background-blur data-image-id=background-image data-image-url=/articles/textual-chat/featured.png></script><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>tobiwan.dev</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/articles/>Articles</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/articles/textual-chat/>Using Textual to Build a ChatGPT TUI App</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Using Textual to Build a ChatGPT TUI App</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2023-03-15T00:00:00+00:00>15 March 2023</time><span class="px-2 text-primary-500">&#183;</span><span>3593 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">17 mins</span></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/tags/python/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Python</span></span></a></div></div><div class="flex author author-extra mt-4"><img class="!mt-0 !mb-0 h-24 w-24 rounded-full me-4" width=96 height=96 src=/img/profile_hu_bf308c3f4f6472a1.png><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><a href=https://ttyobiwan.github.io/authors/piotr/ class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Piotr Tobiasz</a><div class="text-sm text-neutral-700 dark:text-neutral-400">Engineering enjoyer, doing backend stuff with Go, Python and Elixir</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=mailto:piotr.tobiasz.it@gmail.com target=_blank aria-label=Email rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/ttyobiwan target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://linkedin.com/in/piotr-tobiasz-dev target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></span></a></div></div></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#is-it-really-in-the-terminal>Is it really in the terminal?</a></li><li><a href=#chatgpt-and-textual>ChatGPT and Textual</a></li><li><a href=#setting-up-the-chat>Setting up the chat</a></li><li><a href=#textual-in-action>Textual in action</a></li><li><a href=#handling-input>Handling input</a></li><li><a href=#adding-components-dynamically>Adding components dynamically</a></li><li><a href=#connecting-tui-with-chatgpt>Connecting TUI with ChatGPT</a></li><li><a href=#usability-improvements>Usability improvements</a></li><li><a href=#summary>Summary</a></li><li><a href=#next-steps>Next steps</a></li><li><a href=#sources>Sources</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#is-it-really-in-the-terminal>Is it really in the terminal?</a></li><li><a href=#chatgpt-and-textual>ChatGPT and Textual</a></li><li><a href=#setting-up-the-chat>Setting up the chat</a></li><li><a href=#textual-in-action>Textual in action</a></li><li><a href=#handling-input>Handling input</a></li><li><a href=#adding-components-dynamically>Adding components dynamically</a></li><li><a href=#connecting-tui-with-chatgpt>Connecting TUI with ChatGPT</a></li><li><a href=#usability-improvements>Usability improvements</a></li><li><a href=#summary>Summary</a></li><li><a href=#next-steps>Next steps</a></li><li><a href=#sources>Sources</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><p>TUI stands for &ldquo;text user interface&rdquo;. It refers to a type of user interface that relies primarily on text and symbols to interact with users, rather than visual elements like icons and images. TUI applications typically run in a command-line interface (CLI) environment, which is a type of interface where users interact with a computer by typing commands into a text-based interface. TUI applications have been around for a long time and despite their seemingly archaic design, they have certain advantages over graphical user interface (GUI) applications. These include faster response times, lower system requirements, and easier automation.</p><h2 class="relative group">Is it really in the terminal?<div id=is-it-really-in-the-terminal class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#is-it-really-in-the-terminal aria-label=Anchor>#</a></span></h2><p>Several libraries, such as <a href=http://urwid.org/examples/index.html target=_blank>urwid</a> or <a href=https://ptg.bczsalba.com/ target=_blank>PyTermGUI</a>, allow the development of TUI applications in Python. For enhancing the functionality and aesthetics of TUI apps, they offer some fundamental and more sophisticated utilities. But there is one package that is truly exceptional and might even be so amazing that it sparks a TUI renaissance (I really wanted to put &ldquo;TUI renaissance&rdquo; somewhere in this article).</p><p><em>Textual</em> is a package created by Will McGugan, the creator of the <code>rich</code>, extremely popular terminal text formatting library. Textual is actually built on top of <code>rich</code> to support all of those lovely features, add interactivity to them, and enable the creation of more complicated apps and components. When you first encounter an example of Textual app (and you can find them directly in the Textual <a href=https://github.com/Textualize/textual target=_blank>repository</a>), you may wonder: is it really a built-in terminal? Yes, it is.</p><p>It&rsquo;s no coincidence that Textual has reached approximately 20k GitHub stars in less than two years. You don&rsquo;t win the hearts of the community by just giving a tool that does something. In the case of Textual, it is obviously much more than that. First and foremost, the code quality is excellent; everything is type-hinted and documented. Another point is how practical and simple Textual is to use. This is because there are so many built-in features. Async support is also included right out of the box. Eventually, working with Textual produces effects that are simply remarkable. In conclusion, you may easily and quickly create the most stunning TUI apps that have ever been seen.</p><h2 class="relative group">ChatGPT and Textual<div id=chatgpt-and-textual class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#chatgpt-and-textual aria-label=Anchor>#</a></span></h2><p>Using Textual to create TUI applications may be an interesting and rewarding experience. Without investing a lot of time in the &ldquo;frontend&rdquo; work, you can easily create something usable with an attractive interface. Here, we&rsquo;ll concentrate on <code>chatui</code>, an in-terminal ChatGPT app. <code>chatui</code> will connect with the ChatGPT engine using the <code>openai</code> package, and the interface will be made, of course, with Textual. The most important parts of the project structure will include the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>chatui
</span></span><span style=display:flex><span>├─ requirements
</span></span><span style=display:flex><span>│  ├─ base.txt
</span></span><span style=display:flex><span>│  └─ dev.txt
</span></span><span style=display:flex><span>├─ chatui
</span></span><span style=display:flex><span>│  ├─ static
</span></span><span style=display:flex><span>│  │  └─ styles.css
</span></span><span style=display:flex><span>│  ├─ __init__.py
</span></span><span style=display:flex><span>│  ├─ chat.py
</span></span><span style=display:flex><span>│  ├─ tui.py
</span></span><span style=display:flex><span>│  ├─ settings.py
</span></span><span style=display:flex><span>│  └─ main.py
</span></span><span style=display:flex><span>└─ Makefile
</span></span></code></pre></div><p>To avoid creating an unnecessary burden, some of the extra information is hidden. Nevertheless, to see how everything is wired, you can find the complete project <a href=https://github.com/ttyobiwan/chatui target=_blank>here</a>.</p><h2 class="relative group">Setting up the chat<div id=setting-up-the-chat class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#setting-up-the-chat aria-label=Anchor>#</a></span></h2><p>After creating a new directory and spinning up a new virtual environment, the first thing to deal with is the dependencies. In this case, only two are required: <code>textual==0.14.0</code> and <code>openai==0.27.1</code>. These should be added to <code>requirements/base.txt</code> file, and installed with <code>pip install -r requirements/base.txt</code> command.</p><p>The OpenAI API key, which is required to communicate with the ChatGPT model, comes next. It can be acquired on the <a href=https://platform.openai.com/account/api-keys target=_blank>OpenAI account page</a>. Once it&rsquo;s obtained you certainly don&rsquo;t want it to end up in the project repository. Instead, by running <code>export OPENAI_KEY=key></code> it may be loaded as an environment variable, which can then be read in the <code>chatui/settings.py</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>OPENAI_KEY <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>environ[<span style=color:#e6db74>&#34;OPENAI_KEY&#34;</span>]
</span></span></code></pre></div><p>With that in place, the first step is to develop the actual chat logic. It&rsquo;s not too difficult thanks to the <code>openai</code> library. It provides a <code>ChatCompletion.acreate</code> method that accepts the name of the AI model and a collection of messages. However, some additional code is required to keep the whole context of the conversation:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> openai
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> chatui <span style=color:#f92672>import</span> settings
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>openai<span style=color:#f92672>.</span>api_key <span style=color:#f92672>=</span> settings<span style=color:#f92672>.</span>OPENAI_KEY
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Conversation</span>:
</span></span><span style=display:flex><span>    model: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;gpt-3.5-turbo&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>messages: list[dict] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>send</span>(self, message: str) <span style=color:#f92672>-&gt;</span> list[str]:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>messages<span style=color:#f92672>.</span>append({<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;user&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: message})
</span></span><span style=display:flex><span>        r <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> openai<span style=color:#f92672>.</span>ChatCompletion<span style=color:#f92672>.</span>acreate(
</span></span><span style=display:flex><span>            model<span style=color:#f92672>=</span>self<span style=color:#f92672>.</span>model,
</span></span><span style=display:flex><span>            messages<span style=color:#f92672>=</span>self<span style=color:#f92672>.</span>messages,
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> [choice[<span style=color:#e6db74>&#34;message&#34;</span>][<span style=color:#e6db74>&#34;content&#34;</span>] <span style=color:#66d9ef>for</span> choice <span style=color:#f92672>in</span> r[<span style=color:#e6db74>&#34;choices&#34;</span>]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>pick_response</span>(self, choice: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>messages<span style=color:#f92672>.</span>append({<span style=color:#e6db74>&#34;role&#34;</span>: <span style=color:#e6db74>&#34;assistant&#34;</span>, <span style=color:#e6db74>&#34;content&#34;</span>: choice})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>clear</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>messages <span style=color:#f92672>=</span> []
</span></span></code></pre></div><p>As a result, the above class keeps track of all messages, and the ChatGPT model is fully aware of the ongoing dialogue. There are a few things worth mentioning. The first is the OpenAI model: <code>gpt-3.5-turbo</code>, which powers the ChatGPT and is also recommended for the majority of use cases. Another factor is that messages must include information about the role in addition to text. As a result, the AI model will know who said what. It would be too risky to rely solely on the message order. Finally, the <code>Conversation</code> class returns a list of response options. Despite the fact that, in most circumstances (at least in my experience), this list has just one option, the <code>send</code> method returns the complete list and allows the user to select the desired option.</p><p>It may be difficult to believe, but these 32 lines of code can already execute a genuine dialogue. It can already be seen in action, by creating a <code>chatui/main.py</code> file with an alpha version of the app:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> asyncio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> chatui.chat <span style=color:#f92672>import</span> Conversation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>() <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    conversation <span style=color:#f92672>=</span> Conversation()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>        msg <span style=color:#f92672>=</span> input(<span style=color:#e6db74>&#34;Type your message: &#34;</span>)
</span></span><span style=display:flex><span>        choices <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> conversation<span style=color:#f92672>.</span>send(msg)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Here are your choices:&#34;</span>, choices)
</span></span><span style=display:flex><span>        choice_index <span style=color:#f92672>=</span> input(<span style=color:#e6db74>&#34;Pick your choice: &#34;</span>)
</span></span><span style=display:flex><span>        conversation<span style=color:#f92672>.</span>pick_response(choices[int(choice_index)])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    asyncio<span style=color:#f92672>.</span>run(main())
</span></span></code></pre></div><p>Running <code>python chatui/main.py</code> can produce the following results:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ python chatui/main.py
</span></span><span style=display:flex><span>Type your message: Tell a joke
</span></span><span style=display:flex><span>Here are your choices: [&#39;\\\\n\\\\nWhy did the tomato turn red? \\\\nBecause it saw the salad dressing!&#39;]
</span></span><span style=display:flex><span>Pick your choice: 0
</span></span><span style=display:flex><span>Type your message: Tell another one
</span></span><span style=display:flex><span>Here are your choices: [&#39;Why did the chicken cross the playground?\\\\nTo get to the other slide.&#39;]
</span></span><span style=display:flex><span>Pick your choice: ^C
</span></span></code></pre></div><div class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"><span class="text-primary-400 pe-3 flex items-center"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417 293 53c-16.33-28-57.54-28-73.98.0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6c32.76.0 53.26-35 36.96-63zM232 168c0-13.25 10.75-24 24-24s24 10.8 24 24v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zm24 248c-17.36.0-31.44-14.08-31.44-31.44s14.07-31.44 31.44-31.44 31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>
</span></span><span class=dark:text-neutral-300>If you have any problems running this script, please make sure to: activate the
virtual environment; export the API key; export the output of <code>pwd</code> command as
the <code>PYTHONPATH</code> environment variable if any &ldquo;Module Not Found&rdquo; error occurs.</span></div><p>This actually already satisfies the functional requirements of <code>chatui</code>:</p><ol><li>Asking questions,</li><li>Receiving answers,</li><li>Persisting context.</li></ol><p>With chat handling ready, the next step is the user-facing part: TUI.</p><h2 class="relative group">Textual in action<div id=textual-in-action class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#textual-in-action aria-label=Anchor>#</a></span></h2><p>Building user interfaces with Textual is done by utilizing classes provided by the library. The base class for creating the app is called (surprisingly) <code>App</code> and it is used to connect different components and handle various events and actions. Starting with something simple, <code>chatui/tui.py</code> will contain the following code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> textual.app <span style=color:#f92672>import</span> App, ComposeResult
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.widgets <span style=color:#f92672>import</span> Footer, Header, Placeholder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChatApp</span>(App):
</span></span><span style=display:flex><span>    TITLE <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;chatui&#34;</span>
</span></span><span style=display:flex><span>    SUB_TITLE <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ChatGPT directly in your terminal&#34;</span>
</span></span><span style=display:flex><span>    CSS_PATH <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;static/styles.css&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compose</span>(self) <span style=color:#f92672>-&gt;</span> ComposeResult:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Header()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Placeholder()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Footer()
</span></span></code></pre></div><p>The Textual app must now be run in place of the CLI chat in the <code>chatui/main.py</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> chatui.tui <span style=color:#f92672>import</span> ChatApp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    app <span style=color:#f92672>=</span> ChatApp()
</span></span><span style=display:flex><span>    app<span style=color:#f92672>.</span>run()
</span></span></code></pre></div><p>With that in place, you can use the <code>python chatui/main.py</code> command to launch the app. The expected output is as follows:</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=v1 srcset="/articles/textual-chat/img/v1_hu_f2365f8db84c6a30.png 330w,
/articles/textual-chat/img/v1_hu_545d2960b4741a52.png 660w,
/articles/textual-chat/img/v1_hu_504b24d2d32454aa.png 1280w" data-zoom-src=/articles/textual-chat/img/v1.png src=/articles/textual-chat/img/v1.png></figure></p><p>This is already quite intriguing. The <code>ChatApp</code> class begins with some configuration that will be utilized by the interface. The <code>compose</code> method then yields widgets to the parent container. In this scenario, there are three components: <code>Header</code> which contains configuration-related information, <code>Placeholder</code>, which simply fills the empty space, and <code>Placeholder</code>, which is now just a sticker at the bottom. To exit the app, use <code>CTRL+C</code> combination.</p><p>Even though this is a really simple example, it already opens the door to building something far more powerful.</p><h2 class="relative group">Handling input<div id=handling-input class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#handling-input aria-label=Anchor>#</a></span></h2><p>Core functionality of <code>chatui</code> is sending messages. It obviously cannot be done without the ability to take and process input. To make this happen, <code>chatui</code> needs to have an <code>Input</code> component:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> textual.app <span style=color:#f92672>import</span> App, ComposeResult
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.widgets <span style=color:#f92672>import</span> Footer, Header, Input, Button
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.containers <span style=color:#f92672>import</span> Container, Horizontal
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChatApp</span>(App):
</span></span><span style=display:flex><span>    TITLE <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;chatui&#34;</span>
</span></span><span style=display:flex><span>    SUB_TITLE <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ChatGPT directly in your terminal&#34;</span>
</span></span><span style=display:flex><span>    CSS_PATH <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;static/styles.css&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compose</span>(self) <span style=color:#f92672>-&gt;</span> ComposeResult:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Header()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> Horizontal(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;input_box&#34;</span>):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> Input(placeholder<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Enter your message&#34;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;message_input&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> Button(label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Send&#34;</span>, variant<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;success&#34;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;send_button&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Footer()
</span></span></code></pre></div><p>The widgets will already be added to the app, but in order for them to resize and position correctly, they require some additional CSS. <code>static/styles.css</code> is where styling is stored:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>#input_box {
</span></span><span style=display:flex><span>    dock: <span style=color:#66d9ef>bottom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>2</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    align_horizontal: <span style=color:#66d9ef>center</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#message_input {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#ae81ff>#343a40</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#send_button {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Ultimately, this will result in the interface seen below:</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=v2 srcset="/articles/textual-chat/img/v2_hu_d7426e3b2d7e915c.png 330w,
/articles/textual-chat/img/v2_hu_667c93e409878435.png 660w,
/articles/textual-chat/img/v2_hu_63bc86c5972679bb.png 1280w" data-zoom-src=/articles/textual-chat/img/v2.png src=/articles/textual-chat/img/v2.png></figure></p><p>With things looking much better now, a quick recap of what actually happened. First, <code>Placeholder</code> widget was replaced with 3 different components. <code>Horizontal</code> is a container widget that organizes the items inside it horizontally. Using it as a context manager (<code>with</code> keyword) is simply an easier way of passing the widgets to the container <code>__init__</code> method. Finally, within the <code>Horizontal</code> container, there are <code>Input</code> and <code>Button</code> widgets, which are quite self-explanatory.</p><p>There are a few things worth highlighting in the <code>static/styles.css</code> file as well. Aside from standard CSS code, there are other things unique to Textual:</p><ul><li>The <code>dock: bottom</code> attribute causes the container to stick to the bottom,</li><li><code>height: auto</code> instructs the container to take only as much height as it needs, rather than occupying the entire area,</li><li>If there is some free space inside the container, <code>align_horizontal: center</code> causes the items to move to the center.</li></ul><p>Having decent aesthetics is the first step to making this UI usable. Following that, it must actually handle the input. Thankfully, Textual offers a variety of options to handle events occurring within the app:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated imports</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.widget <span style=color:#f92672>import</span> Widget
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChatApp</span>(App):
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_button_pressed</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> self<span style=color:#f92672>.</span>process_conversation()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_input_submitted</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>await</span> self<span style=color:#f92672>.</span>process_conversation()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>process_conversation</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>		message_input <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#message_input&#34;</span>, Input)
</span></span><span style=display:flex><span>        <span style=color:#75715e># Don&#39;t do anything if input is empty</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> message_input<span style=color:#f92672>.</span>value <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        button <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#send_button&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>toggle_widgets(message_input, button)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Clean up the input without triggering events</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> message_input<span style=color:#f92672>.</span>prevent(Input<span style=color:#f92672>.</span>Changed):
</span></span><span style=display:flex><span>            message_input<span style=color:#f92672>.</span>value <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_widgets</span>(self, <span style=color:#f92672>*</span>widgets: Widget) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> w <span style=color:#f92672>in</span> widgets:
</span></span><span style=display:flex><span>            w<span style=color:#f92672>.</span>disabled <span style=color:#f92672>=</span> <span style=color:#f92672>not</span> w<span style=color:#f92672>.</span>disabled
</span></span></code></pre></div><p>The <code>on_button_pressed</code> and <code>on_input_submitted</code> methods serve as the starting points for submitting input. They are referred to as &ldquo;message handlers&rdquo; in Textual terminology. These methods have three elements to their names:</p><ul><li><code>on</code> indicates that a method is actually a message handler,</li><li><code>button</code> describes the namespace: what produced the message,</li><li><code>pressed</code> names the class of the message - what actually happened.</li></ul><p>Because of this naming approach, relatively minimal code is required to handle events within the app. There are two possible messages in this case: input being submitted after clicking the enter button while the input is focused, and the send button being pressed. In a more sophisticated case with many inputs and buttons, the code would have to be more accurate in processing the messages, but because <code>chatui</code> only has one of each, it doesn&rsquo;t have to worry about it.</p><p>Following that is the <code>process_conversation</code> method, which is the root of the app domain logic and is used by both handlers. It doesn&rsquo;t have many responsibilities for now, but there is some intriguing Textual code. It first looks for the <code>Input</code> widget by using its id. It is comparable to an ORM searching the database for a certain record. When the input widget is obtained, the code checks to see if it contains any text; if it doesn&rsquo;t, there is no need to perform any more actions. Otherwise, it continues by retrieving the next component: <code>Button</code>. There is also a helper method for toggling a list of widgets. In this example, it will deactivate both the input and button components, preventing the user from typing anything while waiting for a response. The method concludes with a code for deleting the text from the input. It uses the <code>widget.prevent</code> context manager to prevent events from being emitted when the text inside the input changes.</p><p>The handlers do not currently include any chat-related code, but they do respond appropriately and have access to the text and widgets. The next step is to display messages.</p><h2 class="relative group">Adding components dynamically<div id=adding-components-dynamically class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#adding-components-dynamically aria-label=Anchor>#</a></span></h2><p>For the chat to be functional, messages need to appear on the screen. Adding content dynamically can often be tricky when working with UI frameworks. However, with Textual it is no rocket science. You only need a container widget to which you will be adding child components. Additionally, <code>chatui</code> will also have a custom widget for the message, so that it&rsquo;s a little fancier than just a text:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated imports</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.widgets <span style=color:#f92672>import</span> Footer, Header, Input, Button, Static
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.containers <span style=color:#f92672>import</span> Horizontal, Container
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MessageBox</span>(Widget):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, text: str, role: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>text <span style=color:#f92672>=</span> text
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>role <span style=color:#f92672>=</span> role
</span></span><span style=display:flex><span>        super()<span style=color:#f92672>.</span><span style=color:#a6e22e>__init__</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compose</span>(self) <span style=color:#f92672>-&gt;</span> ComposeResult:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Static(self<span style=color:#f92672>.</span>text, classes<span style=color:#f92672>=</span><span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;message </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>role<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChatApp</span>(App):
</span></span><span style=display:flex><span>	<span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compose</span>(self) <span style=color:#f92672>-&gt;</span> ComposeResult:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Header()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Container(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;conversation_box&#34;</span>)  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> Horizontal(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;input_box&#34;</span>):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> Input(placeholder<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Enter your message&#34;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;message_input&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> Button(label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Send&#34;</span>, variant<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;success&#34;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;send_button&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Footer()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>process_conversation</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        message_input <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#message_input&#34;</span>, Input)
</span></span><span style=display:flex><span>        <span style=color:#75715e># Don&#39;t do anything if input is empty</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> message_input<span style=color:#f92672>.</span>value <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>        button <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#send_button&#34;</span>)
</span></span><span style=display:flex><span>        conversation_box <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#conversation_box&#34;</span>)  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>toggle_widgets(message_input, button)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># 🆕 Create question message, add it to the conversation and scroll down</span>
</span></span><span style=display:flex><span>        message_box <span style=color:#f92672>=</span> MessageBox(message_input<span style=color:#f92672>.</span>value, <span style=color:#e6db74>&#34;question&#34;</span>)
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>mount(message_box)
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>scroll_end(animate<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># Clean up the input without triggering events</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> message_input<span style=color:#f92672>.</span>prevent(Input<span style=color:#f92672>.</span>Changed):
</span></span><span style=display:flex><span>            message_input<span style=color:#f92672>.</span>value <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#75715e># 🆕 Add answer to the conversation</span>
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>mount(
</span></span><span style=display:flex><span>            MessageBox(
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;Answer&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;answer&#34;</span>,
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>toggle_widgets(message_input, button)
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>scroll_end(animate<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)  <span style=color:#75715e># 🆕</span>
</span></span></code></pre></div><p>Similarly to the last example, components need a little bit of styling in the <code>chatui/styles.css</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span><span style=color:#75715e>/* ... trunkated styling */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>MessageBox</span> {
</span></span><span style=display:flex><span>    layout: <span style=color:#66d9ef>horizontal</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    align-horizontal: <span style=color:#66d9ef>center</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>message</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>min-width</span>: <span style=color:#ae81ff>25</span><span style=color:#66d9ef>%</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>border</span>: tall <span style=color:#66d9ef>black</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>padding</span>: <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#ae81ff>#343a40</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>question</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>25</span> <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>answer</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>0</span> <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The output after launching the app and sending a few messages should be the following:</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=v3 srcset="/articles/textual-chat/img/v3_hu_5c3e544c74448a5d.png 330w,
/articles/textual-chat/img/v3_hu_9272f115c326669.png 660w,
/articles/textual-chat/img/v3_hu_816cc9d8a6ebe193.png 1280w" data-zoom-src=/articles/textual-chat/img/v3.png src=/articles/textual-chat/img/v3.png></figure></p><p>The conversation UI in the terminal is alive. Well, at least the part about asking questions is alive because the response is for now static. In any case, a little bit of code was added to the app. First goes a widget called <code>Container</code>, and it is simply a vertical container for holding additional widgets. As you can see on the screen, it occupies the entire height of the space between the header and the input box. As a result, only that portion is scrollable and the input box is glued to the bottom.</p><p>Then, there is a new, custom <code>MessageBox</code> widget that serves as a container for the static text. To render the component within properly, it takes two additional parameters. Thanks to that, <code>Static</code> widget scales and positions correctly and it has additional styling based on the provided <code>role</code> CSS class. With that in place, the <code>process_conversation</code> method is now inserting <code>MessageBox</code> components into the conversation container, by using <code>mount</code> method. Presence of <code>scroll_end</code> method is also worth noting - it is used to scroll down to the end of the conversation container whenever a new message appears.</p><p>At this point, it appears that <code>ChatApp</code> has most of the UI elements and behaviors needed to support a genuine conversation with the ChatGPT. The following step is to connect it with the previously developed <code>Conversation</code> class.</p><h2 class="relative group">Connecting TUI with ChatGPT<div id=connecting-tui-with-chatgpt class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#connecting-tui-with-chatgpt aria-label=Anchor>#</a></span></h2><p>Now that the UI is complete, ChatGPT can be finally integrated into the TUI. The <code>ChatApp</code> class must use the actual <code>Conversation</code> instance to accomplish this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated imports</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> chatui.chat <span style=color:#f92672>import</span> Conversation
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChatApp</span>(App):
</span></span><span style=display:flex><span>	<span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_mount</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>conversation <span style=color:#f92672>=</span> Conversation()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#message_input&#34;</span>, Input)<span style=color:#f92672>.</span>focus()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>async</span> <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>process_conversation</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>		<span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code down to cleaning up the input</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># 🆕 Take answer from the chat and add it to the conversation</span>
</span></span><span style=display:flex><span>        choices <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> self<span style=color:#f92672>.</span>conversation<span style=color:#f92672>.</span>send(message_box<span style=color:#f92672>.</span>text)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>conversation<span style=color:#f92672>.</span>pick_response(choices[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>mount(
</span></span><span style=display:flex><span>            MessageBox(
</span></span><span style=display:flex><span>                choices[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>removeprefix(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>n&#34;</span>)<span style=color:#f92672>.</span>removeprefix(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>n&#34;</span>),
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;answer&#34;</span>,
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>toggle_widgets(message_input, button)
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>scroll_end(animate<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span></code></pre></div><p>The new code begins with the <code>on_mount</code> handler for the <code>Mount</code> event, which is triggered when the application is first mounted. By doing so, the app initializes a new conversation and additionally focuses the input component so that the user can start typing immediately. In the <code>process_conversation</code> method, mounting static answer messages was replaced with sending questions to ChatGPT and rendering the actual response from the model. Because of AI occasionally responding with line-broken messages, you may notice double <code>remove_prefix</code> call, to clean up the text. This could, of course, be replaced with something more reliable. All of this together leads to pretty much the final result:</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=v4 srcset="/articles/textual-chat/img/v4_hu_fafdd71b40f09685.png 330w,
/articles/textual-chat/img/v4_hu_7a21630b245daa36.png 660w,
/articles/textual-chat/img/v4_hu_a9a01796a467e3da.png 1280w" data-zoom-src=/articles/textual-chat/img/v4.png src=/articles/textual-chat/img/v4.png></figure></p><p>Finally, a genuine chatbot experience, with Textual managing the TUI and <code>Conversation</code> object handling communicating ChatGPT model and persisting context.</p><h2 class="relative group">Usability improvements<div id=usability-improvements class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#usability-improvements aria-label=Anchor>#</a></span></h2><p>While the end result may be acceptable at this stage, there are a few things that could be added or improved. To begin, it would be wonderful to be able to leave the app using a method other than the <code>CTRL+C</code> combo. Another useful feature would be to clear the entire dialogue. Both of these can be accomplished by incorporating a custom key binding into the app. Nevertheless, there is one issue: because the input component is continually focused, key bindings may not work as planned. To address this issue and add additional actions using key bindings, the following changes must be made:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated imports</span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> textual.binding <span style=color:#f92672>import</span> Binding
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FocusableContainer</span>(Container, can_focus<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>):  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MessageBox</span>(Widget, can_focus<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>):  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChatApp</span>(App):
</span></span><span style=display:flex><span>	<span style=color:#f92672>...</span>  <span style=color:#75715e># trunkated code</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    BINDINGS <span style=color:#f92672>=</span> [  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>        Binding(<span style=color:#e6db74>&#34;q&#34;</span>, <span style=color:#e6db74>&#34;quit&#34;</span>, <span style=color:#e6db74>&#34;Quit&#34;</span>, key_display<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Q / CTRL+C&#34;</span>),
</span></span><span style=display:flex><span>        (<span style=color:#e6db74>&#34;ctrl+x&#34;</span>, <span style=color:#e6db74>&#34;clear&#34;</span>, <span style=color:#e6db74>&#34;Clear&#34;</span>),
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compose</span>(self) <span style=color:#f92672>-&gt;</span> ComposeResult:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Header()
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> FocusableContainer(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;conversation_box&#34;</span>):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> MessageBox(  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;Welcome to chatui!</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>n&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;Type your question, click enter or &#39;send&#39; button &#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;and wait for the response.</span><span style=color:#ae81ff>\\</span><span style=color:#e6db74>n&#34;</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;At the bottom you can find few more helpful commands.&#34;</span>,
</span></span><span style=display:flex><span>                role<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;info&#34;</span>,
</span></span><span style=display:flex><span>            )
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> Horizontal(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;input_box&#34;</span>):
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> Input(placeholder<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Enter your message&#34;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;message_input&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>yield</span> Button(label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Send&#34;</span>, variant<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;success&#34;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;send_button&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>yield</span> Footer()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>action_clear</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:  <span style=color:#75715e># 🆕</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>conversation<span style=color:#f92672>.</span>clear()
</span></span><span style=display:flex><span>        conversation_box <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>query_one(<span style=color:#e6db74>&#34;#conversation_box&#34;</span>)
</span></span><span style=display:flex><span>        conversation_box<span style=color:#f92672>.</span>remove()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>mount(FocusableContainer(id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;conversation_box&#34;</span>))
</span></span></code></pre></div><p>The first thing you can notice is that <code>Container</code> has been replaced with a custom <code>FocusableContainer</code>, which, like the <code>MessageBox</code> widget, is now subclassed with the <code>can_focus=True</code> option. As a result, these components that take up space between the header and input box can now receive focus after being clicked, causing the <code>Input</code> widget to lose focus. That adjustment allows for the use of custom key bindings without entering random letters into the input field.</p><p>The second change is the previously mentioned key bindings, which are configured as a class attribute. Textual custom key bindings are often stated as a three-element tuple, with the key/key combination coming first, the action name coming second, and the description coming last. This is the case with the newly added custom <code>clear</code> action. But, if you wish to further tweak the binding, you can utilize the <code>Binding</code> class which accepts a few more parameters. This is the case with the <code>quit</code> action, which in addition to <code>q</code> key, can also be triggered with a <code>CTRL+C</code> combination, and hence both options should be displayed.</p><p>Coming back to the <code>clear</code> action, you can see that it&rsquo;s declared by the <code>action_clear</code> method, which is then recognized by the key binding. Its purpose is to simply clear the <code>Conversation</code> state and remount the conversation container.</p><p>The final update is a new <code>MessageBox</code> that will appear at the beginning of the conversation. It is there to fill the empty space with a little bit of introduction. To style it differently than the other messages, a new CSS class was introduced:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>info</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>text-align</span>: <span style=color:#66d9ef>center</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>With all the new pieces together, the ultimate output of the app will look as follows:</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=v5 srcset="/articles/textual-chat/img/v5_hu_777e9969ff72d63a.png 330w,
/articles/textual-chat/img/v5_hu_860ac2483f9ea45.png 660w,
/articles/textual-chat/img/v5_hu_a78192107c79c2cb.png 1280w" data-zoom-src=/articles/textual-chat/img/v5.png src=/articles/textual-chat/img/v5.png></figure></p><p>As you can see, the key bindings are explained in the footer, the helper message is located directly in the middle, and you can click anywhere to switch the focus away from the input component.</p><h2 class="relative group">Summary<div id=summary class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#summary aria-label=Anchor>#</a></span></h2><p>Textual is genuinely a remarkable framework. It enables the creation of beautiful and powerful TUI apps while maintaining clean and current code. Even though TUI apps aren&rsquo;t so widely used, perhaps as a result of excellent tools and libraries like Textual, we will start to see them more frequently. They have already proven handy for developing some simple and semi-advanced user interfaces for various backend tasks. In either case, creating a TUI app is unquestionably an exciting experience that can result in creating something truly original, and Textual might be the best route to take.</p><h2 class="relative group">Next steps<div id=next-steps class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#next-steps aria-label=Anchor>#</a></span></h2><p>While the app met the basic requirements, it had the potential to be much more. Further features may include, for example, keeping the conversation in a database and moving between them via tabs or a sidebar. It could also handle multiple choices supplied by the ChatGPT, allowing the user to select the one he prefers. The user interface might also be made more sophisticated and user-friendly. The major goal here, though, was to demonstrate the most intriguing and crucial features of Textual and how to leverage them to create something interesting. Ideally, the essay laid the groundwork for something even bigger, finer, and more powerful.</p><h2 class="relative group">Sources<div id=sources class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#sources aria-label=Anchor>#</a></span></h2><p>Code for the <code>chatui</code> project used in the article can be found here:</p><div class=github-card-wrapper><a id=github-c9db37fe191763c89af32c1e2b14f6aa target=_blank href=https://github.com/ttyobiwan/chatui class=cursor-pointer><div class="w-full md:w-auto p-0 m-0 border border-neutral-200 dark:border-neutral-700 border rounded-md shadow-2xl"><div class="w-full nozoom"><img src=https://opengraph.githubassets.com/0/ttyobiwan/chatui alt="GitHub Repository Thumbnail" class="nozoom mt-0 mb-0 w-full h-full object-cover"></div><div class="w-full md:w-auto pt-3 p-5"><div class="flex items-center"><span class="text-2xl text-neutral-800 dark:text-neutral me-2"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span><div id=github-c9db37fe191763c89af32c1e2b14f6aa-full_name class="m-0 font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral">ttyobiwan/chatui</div></div><p id=github-c9db37fe191763c89af32c1e2b14f6aa-description class="m-0 mt-2 text-md text-neutral-800 dark:text-neutral">ChatGPT directly in your terminal using Textual</p><div class="m-0 mt-2 flex items-center"><span class="mr-1 inline-block h-3 w-3 rounded-full language-dot" data-language=Python></span><div class="m-0 mr-5 text-md text-neutral-800 dark:text-neutral">Python</div><span class="text-md mr-1 text-neutral-800 dark:text-neutral"><span class="relative block icon"><svg viewBox="0 0 576 512"><path fill="currentColor" d="M287.9.0C297.1.0 305.5 5.25 309.5 13.52L378.1 154.8l153.3 22.7C540.4 178.8 547.8 185.1 550.7 193.7 553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4l26.3 155.5C461.4 492.9 457.7 502.1 450.2 507.4 442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9 150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4 118.2 502.1 114.5 492.9 115.1 483.9l27.1-155.5L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7 28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8 266.3 13.52C270.4 5.249 278.7.0 287.9.0zm0 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9 184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7l105.2-56.2C283.7 383.7 292.2 383.7 299.2 387.5l105.2 56.2-20.2-119.6C382.9 316.4 385.5 308.5 391 303l85.9-85.1-118.3-17.4C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"/></svg></span></span><div id=github-c9db37fe191763c89af32c1e2b14f6aa-stargazers class="m-0 mr-5 text-md text-neutral-800 dark:text-neutral">24</div><span class="text-md mr-1 text-neutral-800 dark:text-neutral"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M80 104c13.3.0 24-10.7 24-24S93.3 56 80 56 56 66.7 56 80s10.7 24 24 24zm80-24c0 32.8-19.7 61-48 73.3V192c0 17.7 14.3 32 32 32H304c17.7.0 32-14.3 32-32V153.3C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V192c0 53-43 96-96 96H256v70.7c28.3 12.3 48 40.5 48 73.3.0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V288H144c-53 0-96-43-96-96V153.3C19.7 141 0 112.8.0 80 0 35.8 35.8.0 80 0s80 35.8 80 80zm208 24c13.3.0 24-10.7 24-24s-10.7-24-24-24-24 10.7-24 24 10.7 24 24 24zM248 432c0-13.3-10.7-24-24-24s-24 10.7-24 24 10.7 24 24 24 24-10.7 24-24z"/></svg></span></span><div id=github-c9db37fe191763c89af32c1e2b14f6aa-forks class="m-0 mr-5 text-md text-neutral-800 dark:text-neutral">5</div></div></div></div><script async type=text/javascript src=/js/fetch-repo.min.dc5533c50cefd50405344b235937142271f26229fe39cbee27fd4960e8bb897a0beebfad77a1091ca91cd0d1fb14e70fc37cc114dd9674fb2c32e0ab512ec8a4.js integrity="sha512-3FUzxQzv1QQFNEsjWTcUInHyYin+OcvuJ/1JYOi7iXoL7r+td6EJHKkc0NH7FOcPw3zBFN2WdPssMuCrUS7IpA==" data-repo-url=https://api.github.com/repos/ttyobiwan/chatui data-repo-id=github-c9db37fe191763c89af32c1e2b14f6aa></script></a></div><p>I also highly encourage you to take a look at the Textual <a href=https://textual.textualize.io/ target=_blank>documentation</a>, <a href=https://github.com/Textualize/textual/tree/main/examples target=_blank>code examples</a>, and Will&rsquo;s <a href=https://twitter.com/willmcgugan target=_blank>Twitter</a>.</p></div></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_articles/textual-chat/index.md data-oid-likes=likes_articles/textual-chat/index.md></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/articles/python-packages/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">5 Python Must-Know Packages</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2023-03-08T00:00:00+00:00>8 March 2023</time>
</span></span></a></span><span><a class="flex text-right group ml-3" href=/articles/sigmapython01/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Sigma Python #1: Decorators</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2023-03-17T00:00:00+00:00>17 March 2023</time>
</span></span><span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&larr;</span></a></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0 z-10"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2025
Piotr Tobiasz</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://ttyobiwan.github.io/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>